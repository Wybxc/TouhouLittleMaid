(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{370:function(t,e,a){"use strict";a.r(e);var n=a(13),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"自定义-javascript-动画"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义-javascript-动画"}},[t._v("#")]),t._v(" 自定义 JavaScript 动画")]),t._v(" "),e("p",[t._v("通过 JavaScript 文件，你可以为女仆或坐垫添加自定义动画。")]),t._v(" "),e("ul",[e("li",[t._v("本 wiki 适用于 Touhou Little Maid 模组 "),e("code",[t._v("1.12.2")]),t._v(" 和 "),e("code",[t._v("1.16.5")]),t._v(" 版本；")]),t._v(" "),e("li",[t._v("需要对 JavaScript 基本语法有简单的了解；")]),t._v(" "),e("li",[t._v("需要高中及以上数学知识，尤其是对三角函数和极坐标的理解。")]),t._v(" "),e("li",[t._v("文本编辑软件推荐 VSCode，相关文本文件均需要用 UTF-8 无 BOM 编码进行存储。")])]),t._v(" "),e("h2",{attrs:{id:"基本格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本格式"}},[t._v("#")]),t._v(" 基本格式")]),t._v(" "),e("p",[t._v("动画脚本放置在文件夹任意位置均可，只需要在对应模型字段处声明动画文件位置即可。 我建议将它放入 "),e("code",[t._v("animation")]),t._v(" 文件夹中。")]),t._v(" "),e("p",[t._v("下面是通用模板：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当你需要使用 GlWrapper 时才需要声明这一段代码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" GlWrapper "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.github.tartaricacid.touhoulittlemaid.client.animation.script.GlWrapper"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nJava"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("asJSONCompatible")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * @param entity 需要应用动画的实体对象\n     * @param limbSwing 实体在行走过程中的速度（可以理解为汽车的速度表）\n     * @param limbSwingAmount 实体行走的总里程数（可以理解为汽车的里程表）\n     * @param ageInTicks 实体的 tick 时间，一个从 0 开始一直增加的数值\n     * @param netHeadYaw 实体头部的偏航\n     * @param headPitch 实体头部的俯仰\n     * @param scale 实体缩放参数，默认为 0.0625，未发现任何使用的地方\n     * @param modelMap 为一个 map，存储了该模型所有的骨骼\n     */")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("animation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limbSwing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limbSwingAmount"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ageInTicks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" netHeadYaw"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                          headPitch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" modelMap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相关动画的书写")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("p",[t._v("这里我们举一个简单的例子，当前模型有一个带有名为 "),e("code",[t._v("rotation")]),t._v(" 的骨骼，我们想要把让这个骨骼绕着 X 轴持续的做旋转运动，运动的速度大约为每 tick 1 度（也就是 18 秒转一圈），我们可以这样写动画。")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当你需要使用 GlWrapper 时才需要声明这一段代码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" GlWrapper "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.github.tartaricacid.touhoulittlemaid.client.animation.script.GlWrapper"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nJava"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("asJSONCompatible")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("animation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limbSwing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limbSwingAmount"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ageInTicks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" netHeadYaw"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                          headPitch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" modelMap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 先从 modelMap 中尝试获取名为 rotation 的骨骼")]),t._v("\n        rotation "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" modelMap"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rotation"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以防万一，我们做个简单的判定，确保此骨骼一定存在")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rotation "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过骨骼的 setRotateAngleX 函数设置其 X 轴角度")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ageInTicks 为实体的 tick 时间，一个从 0 开始一直增加的数值")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过取余运算（也就是 % 符号）将这个数限定在 0~360 之间")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因为该方法只接收弧度值，所以需要乘以 0.017453292 转换成对应弧度")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这样我们就实现了每 tick 旋转 1 度的动画")]),t._v("\n            rotation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRotateAngleX")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ageInTicks "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.017453292")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("p",[t._v("现在我们再进行一个更加复杂的运动，我们有一个名为 "),e("code",[t._v("wing")]),t._v(" 的骨骼，我们想要其能够持续的来回摆动。")]),t._v(" "),e("p",[t._v("摆动围绕 Y 轴，摆动角度在 "),e("code",[t._v("-20°~40°")]),t._v(" 之间，每 5 秒做一次完整的往复运动。")]),t._v(" "),e("p",[t._v("这一块恰好需要用到高中所学的三角函数知识，这一块选取正弦或者余弦均可，我们使用正弦函数。")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当你需要使用 GlWrapper 时才需要声明这一段代码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" GlWrapper "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.github.tartaricacid.touhoulittlemaid.client.animation.script.GlWrapper"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nJava"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("asJSONCompatible")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("animation")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limbSwing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" limbSwingAmount"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ageInTicks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" netHeadYaw"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        headPitch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" modelMap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 先从 modelMap 中尝试获取名为 wing 的骨骼")]),t._v("\n        wing "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" modelMap"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wing"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以防万一，我们做个简单的判定，确保此骨骼一定存在")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("wing "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 每 5 秒完整的往复一次，也就是 100 tick")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过乘法和求余来实现这个功能")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" time "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ageInTicks "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.6")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这一块调用了 JavaScript 的 Math 函数")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建正弦函数，获得数值为 -20~40 的周期函数")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" func "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("time "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.017453292")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最后进行参数的应用")]),t._v("\n            wing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRotateAngleY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.017453292")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br")])]),e("p",[t._v("其他复杂的运动均可通过相关函数来实现。")]),t._v(" "),e("h2",{attrs:{id:"游戏内热重载功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#游戏内热重载功能"}},[t._v("#")]),t._v(" 游戏内热重载功能")]),t._v(" "),e("p",[t._v("因为干巴巴的函数式并不能确定该动画是否表现正确，我们添加了游戏内的动画热重载功能。")]),t._v(" "),e("p",[t._v("加载模型资源包后，只需使用以下命令即可重新加载所有动画数据。")]),t._v(" "),e("ul",[e("li",[t._v("1.12.2: "),e("code",[t._v("/maid_res reload")])]),t._v(" "),e("li",[t._v("1.16.5: "),e("code",[t._v("/tlm pack reload")])])]),t._v(" "),e("h2",{attrs:{id:"函数文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#函数文档"}},[t._v("#")]),t._v(" 函数文档")]),t._v(" "),e("p",[t._v("删除线样式的表示此函数已在 1.16 中被废弃，你可以访问"),e("a",{attrs:{href:"https://github.com/TartaricAcid/TouhouLittleMaid/tree/1.16.5/src/main/java/com/github/tartaricacid/touhoulittlemaid/api/animation",target:"_blank",rel:"noopener noreferrer"}},[t._v("此处连接"),e("OutboundLink")],1),t._v("查看源码 API。")]),t._v(" "),e("h3",{attrs:{id:"实体参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实体参数"}},[t._v("#")]),t._v(" 实体参数")]),t._v(" "),e("p",[t._v("依据附加动画的对象不同，"),e("code",[t._v("entity")]),t._v(" 参数可用的函数也不相同。")]),t._v(" "),e("h4",{attrs:{id:"女仆"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#女仆"}},[t._v("#")]),t._v(" 女仆")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("函数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("返回值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasHelmet()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("女仆穿戴头盔后，返回 "),e("code",[t._v("true")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasChestPlate()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("女仆穿戴胸甲后，返回 "),e("code",[t._v("true")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasLeggings()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("女仆穿戴护腿后，返回 "),e("code",[t._v("true")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasBoots()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("女仆穿戴靴子后，返回 "),e("code",[t._v("true")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getHelmet()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("After maid wears helmet, returns helmet item's registry name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getChestPlate()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("After maid wears chestplate, returns chestplate item's registry name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getLeggings()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("After maid wears leggings, returns leggings item's registry name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getBoots()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("After maid wears boots, returns boots item's registry name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isBegging()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid is in begging mode")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isSwingingArms()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("If maid is using arms, this function will return "),e("code",[t._v("true")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getSwingProgress()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's swinging time")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isRiding()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("女仆是否处于骑乘模式")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isSitting()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("女仆是否处于待命模式")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("isHoldTrolley()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid is carrying trolley or other entities")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("isRidingMarisaBroom()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid is riding Marisa Broom")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("isRidingPlayer()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid is riding player")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("isHoldVehicle()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid is riding vehicle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("isPortableAudioPlay()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether the maid hold portable audio and play it")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasBackpack()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid wearing backpack")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getBackpackLevel()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("int")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's backpack level")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("hasSasimono()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid wearing sasimono")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isSwingLeftHand()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether the maid is swinging left or right arm, return "),e("code",[t._v("false")]),t._v(" if it's the right")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("getLeftHandRotation()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float[3]")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get the left arm rotation data")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("getRightHandRotation()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float[3]")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get the right arm rotation data")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("getDim()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("int")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get the dimension where the maid is in")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getWorld()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("World")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's world data")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getTask()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's task, such as "),e("code",[t._v("attack")]),t._v(", "),e("code",[t._v("ranged_attack")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasItemMainhand()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid has mainhand item")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasItemOffhand()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid has offhand item")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getItemMainhand()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid mainhand item's registry name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getItemOffhand()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid offhand item's registry name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("inWater()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid in water")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("inRain()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid in rain")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getAtBiome()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's biome register name")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("getAtBiomeTemp()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("String")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's biome temperature enum")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("onHurt()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether the maid is on hurt")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getHealth()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("获取女仆的生命值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getMaxHealth()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("获取女仆的最大生命值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isSleep()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether maid is sleep")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getFavorability()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("int")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get the maid's favorability")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isOnGround()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Whether the maid is on ground")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getArmorValue()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("double")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get maid's armor value")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getSeed()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("long")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get a fixed value, each entity is different, similar to the entity's UUID")])])])]),t._v(" "),e("h4",{attrs:{id:"坐垫"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#坐垫"}},[t._v("#")]),t._v(" 坐垫")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("函数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("返回值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isRidingPlayer()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("坐垫是否被玩家所坐")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hasPassenger()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("坐垫是否有乘客")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getPassengerYaw()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get chair passenger's yaw")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getYaw()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get chair's yaw")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getPassengerPitch()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get chair passenger's pitch")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("s",[e("code",[t._v("getDim()")])])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("int")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get chair's dim id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getWorld()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("World")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get chair's world data")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getSeed()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("long")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("获取一个固定值，每个实体都是不同的，类似于该实体的 UUID")])])])]),t._v(" "),e("h4",{attrs:{id:"世界"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#世界"}},[t._v("#")]),t._v(" 世界")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("函数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("返回值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getWorldTime()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("long")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("获取当前世界的时间（tick，0-24000）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isDay()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("当前世界是否为白天")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isNight()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("当前世界是否为黑夜")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isRaining()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("当前世界是否在降雨")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isThundering()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("当前世界是否处于雷雨中")])])])]),t._v(" "),e("h3",{attrs:{id:"limbswing-和-limbswingamount-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#limbswing-和-limbswingamount-参数"}},[t._v("#")]),t._v(" "),e("code",[t._v("limbSwing")]),t._v(" 和 "),e("code",[t._v("limbSwingAmount")]),t._v(" 参数")]),t._v(" "),e("p",[t._v("These are floating points, "),e("code",[t._v("limbSwing")]),t._v(" is the walking speed of the entity (think of it as the speedometer of a car), "),e("code",[t._v("limbSwingAmount")]),t._v(" is the total walking distance of the entity (think of it as the odometer of a car).")]),t._v(" "),e("p",[t._v("These two data are mainly used on the rotation of the legs and limbs, Minecraft vanilla uses these two basic data to calculate the animation of the arm and leg swinging.")]),t._v(" "),e("p",[e("code",[t._v("Math.cos(limbSwing * 0.6662) * limbSwingAmount")]),t._v("(left hand)")]),t._v(" "),e("p",[e("code",[t._v("-Math.cos(limbSwing * 0.6662) * limbSwingAmount")]),t._v("(right hand)")]),t._v(" "),e("p",[e("code",[t._v("Math.cos(limbSwing * 0.6662) * limbSwingAmount * 1.4")]),t._v("(left leg)")]),t._v(" "),e("p",[e("code",[t._v("-Math.cos(limbSwing * 0.6662) * limbSwingAmount * 1.4")]),t._v("(right leg)")]),t._v(" "),e("p",[t._v("Changing the value "),e("code",[t._v("0.6662")]),t._v(" will control the frequency of the swing, multiplied by the coeffecient of the formula (for example, the leg uses "),e("code",[t._v("1.4")]),t._v(" as the coeffecient) to change the amplitude of the swing.")]),t._v(" "),e("p",[t._v("使用原版Minecraft的手臂和腿摆动公式可以使摆动动画更加自然。")]),t._v(" "),e("h3",{attrs:{id:"ageinticks-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ageinticks-参数"}},[t._v("#")]),t._v(" "),e("code",[t._v("ageInTicks")]),t._v(" 参数")]),t._v(" "),e("p",[t._v("浮点数，一个从 0 开始每 tick 都会自加的变量，大多数动画中都会用到的自变量。")]),t._v(" "),e("h3",{attrs:{id:"netheadyaw-和-headpitch-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#netheadyaw-和-headpitch-参数"}},[t._v("#")]),t._v(" "),e("code",[t._v("netHeadYaw")]),t._v(" 和 "),e("code",[t._v("headPitch")]),t._v(" 参数")]),t._v(" "),e("p",[t._v("二者均为浮点数，单位为角度（这是原版 Minecraft 所设计的）。")]),t._v(" "),e("p",[t._v("通常此参数可以用作旋转角度，你只需要将其更改为弧度。")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("head"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRotateAngleX")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("headPitch "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.017453292")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhead"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRotateAngleY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("netHeadYaw "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.017453292")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("blockquote",[e("p",[t._v("If the coeffiecient in this section is set to be larger than '0.017453292', there may have some error issue.")])]),t._v(" "),e("h3",{attrs:{id:"scale-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scale-参数"}},[t._v("#")]),t._v(" "),e("code",[t._v("scale")]),t._v(" 参数")]),t._v(" "),e("p",[t._v("浮点数，固定为 0.0625。")]),t._v(" "),e("p",[t._v("一个含义不明的值。")]),t._v(" "),e("h3",{attrs:{id:"modelmap-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modelmap-参数"}},[t._v("#")]),t._v(" modelMap 参数")]),t._v(" "),e("p",[t._v("A Map that saves group, using string as keys.")]),t._v(" "),e("p",[t._v("You can get the corresponding group through "),e("code",[t._v('modelMap.get("xxx")')]),t._v(". If there is no group that matches the name, return "),e("code",[t._v("undefined")])]),t._v(" "),e("p",[t._v("Let's say we want to get the target group "),e("code",[t._v("head")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("head "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" modelMap"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"head"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("Then we can set various parameter using this "),e("code",[t._v("head")]),t._v(" group to make animation.")]),t._v(" "),e("p",[t._v("Of course, as a precaution, it's best to set a check for this group, to make sure it's existed.")]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("head "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" modelMap"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"head"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("head "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 制作各种动画")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h3",{attrs:{id:"group"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#group"}},[t._v("#")]),t._v(" Group")]),t._v(" "),e("p",[t._v("We can get various group via "),e("code",[t._v('modelMap.get("xxx")')]),t._v(", the following are the functions that can be used to the obtained group.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("函数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("返回值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setRotateAngleX(float rotateAngleX)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set the group's X angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setRotateAngleY(float rotateAngleY)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set the group's Y angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setRotateAngleZ(float rotateAngleZ)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set the group's Z angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setOffsetX(float offsetX)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set the group's X coordianate offset")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setOffsetY(float offsetY)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set the group's Y coordianate offset")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setOffsetZ(float offsetZ)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set the group's Z coordianate offset")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("setHidden(boolean hidden)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set if the group is hidden")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getRotateAngleX()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Obtain the group's X angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getRotateAngleY()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Obtain the group's Y angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getRotateAngleZ()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Obtain the group's Z angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getInitRotateAngleX()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get ModelRenderer's initialization x rotate angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getInitRotateAngleY()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get ModelRenderer's initialization y rotate angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getInitRotateAngleZ()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Get ModelRenderer's initialization z rotate angle")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getOffsetX()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Obtain the group's X coordianate offset")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getOffsetY()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Obtain the group's Y coordianate offset")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getOffsetZ()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("float")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Obtain the group's Y coordianate offset")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("isHidden()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("boolean")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Check if the group is hidden")])])])]),t._v(" "),e("h3",{attrs:{id:"glwrapper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#glwrapper"}},[t._v("#")]),t._v(" GlWrapper")]),t._v(" "),e("p",[t._v("在脚本的最开头，我们使用了一个叫做 "),e("code",[t._v("GlWrapper")]),t._v(" 的工具，它可以进行各种平移、旋转和缩放操作。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("函数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("返回值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("translate(float x, float y, float z)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("将实体移动至坐标 x y z")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("rotate(float angle, float x, float y, float z)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("以直线 "),e("code",[t._v("(0, 0, 0) (x, y, z)")]),t._v(" 为轴，将其旋转 "),e("code",[t._v("angle")]),t._v(" 度。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("scale(float x, float y, float z)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("无")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("将实体在三条轴上缩放 x y z 倍")])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);